@using AttrectoTest.Blazor.Shared.Models
@using AttrectoTest.Blazor.Shared.Models
@if (Feed != null)
{
    <div class="w-full rounded-2xl shadow-md overflow-hidden bg-white mb-4">
        @if (Feed is ImageFeedItemModel imageFeed)
        {
            <img 
                src=@imageFeed.ImageUrl
                alt="@Feed.Title"
                 class="w-full object-contain" />
        }
        <div class="p-4">
            <h2 class="text-xl font-bold">@Feed.Title</h2>
            @if (Feed is RssFeedItemModel rssFeed)
            {
                <div class="prose max-w-none text-gray-700">
                    @((MarkupString)Feed.Content)
                </div>
            } else
            {
                <p class="text-gray-700">@Feed.Content</p>
                @if (Feed is VideoFeedItemModel videoFeed)
                {
                    <div>
                        <a href=@videoFeed.VideoUrl>@videoFeed.VideoUrl</a>
                    </div>
                }
            }
            <div class="flex justify-between items-center mt-3 text-sm text-gray-500">
                <span>By @Feed.AuthorUserName</span>
                <span>@Feed.PublishedAt</span>
            </div>
                    <div class="flex justify-between items-center mt-3">
          <LikeButton
            FeedId=@Feed.Id
            IsLiked=@Feed.IsLiked
            LikeCount=@Feed.LikeCount
          />
                @if (Feed.IsOwnFeed)
                {
                    <button @onclick=@HandleDelete
                            class="px-3 py-1 text-sm bg-red-500 text-white rounded-xl hover:bg-red-600">
                        Delete
                    </button>
                }
            </div>
        </div>
    </div>
}
